(()=>{var o=function(){for(var o=[],r=0;r<100;r++)o.push({location:r,hasShip:!1,shipID:null,hasHit:!1});return{placeShip:function(r,a){for(var n=r+a,e=function(o){var r=o,a=0;return{isSunk:function(){return r-a==0},hit:function(){a++}}}(a),t=r;t<n;t++)o[t].hasShip=!0,o[t].shipID=e;return"succes"},recieveAttack:function(r){return o[r].hasHit?"invalid":(o[r].hasHit=!0,1==o[r].hasShip?(o[r].shipID.hit(),"hit"):"missed")},isWinner:function(){for(var r=0;r<100;r++)if(o[r].hasShip&&!o[r].hasHit)return!1;return!0},gameBoardArray:o}},r=function(o,r){return{turn:function(o,r,a,n){o.forEach((function(r){r.addEventListener("click",(function(r){if(!r.target.classList.contains("shot")){r.target.classList.add("shot");var n=o.indexOf(r.target),t=a.gameBoardArray[n];t.hasHit=!0,null!=t.shipID&&t.shipID.hit(),a.isWinner()&&console.log("user won"),e()}}))}));var e=function(){for(console.log("computer move"),move=Math.floor(100*Math.random());n.gameBoardArray[move].hasHit;)move=Math.floor(100*Math.random());console.log(document.querySelector(".gameBoard1").childNodes),document.querySelector(".gameBoard1").childNodes[move].classList.add("shot"),arrLocation=n.gameBoardArray[move],arrLocation.hasHit=!0,null!=arrLocation.shipID&&arrLocation.shipID.hit(),n.isWinner()&&console.log("computer wins")}}}};!function(){var a=o(),n=o(),e=[],t=[],i=r(),c=r(),s=document.querySelector(".gameBoard1"),h=document.querySelector(".gameBoard2");function u(o,r){for(var a=0;a<100;a++){var n=document.createElement("tile");n.classList.add("tile"),o.appendChild(n),r.push(n)}return r}e=u(s,e),t=u(h,t);var l=0,f=5,d=!1;!function(){for(var o,r=5,a=0;a<5;a++){for(var e=!1;!e;){var t=Math.floor(10*Math.random()),i=Math.floor(Math.random()*(10-(r-1)));e=!0;for(var c=o=parseInt("".concat(t).concat(i));c<o+r;c++)n.gameBoardArray[c].hasShip&&(e=!1)}console.log(o),n.placeShip(o,r),3==!r&&0==e||r--}console.log(n.gameBoardArray)}(),function(){function o(o){for(var r=o,n=r+f,t=!1,i=0,c=10,s=0;s<10;s++)i<n&&c>=n&&i<=r&&c>r&&(t=!0),i+=10,c+=10;for(var h=r;h<n;h++)(h>=100||a.gameBoardArray[h].hasShip)&&(t=!1);if(console.log(t),!t)return!1;e.forEach((function(o){o.classList.remove("hovered")}));for(var u=r;u<n;u++)e[u].classList.add("hovered");return!0}console.log("ships: "+l),e.forEach((function(n){n.addEventListener("mouseover",(function(r){e.forEach((function(o){o.classList.remove("hovered")})),o(e.indexOf(r.target))})),n.addEventListener("click",(function(n){console.log("hello");var t=e.indexOf(n.target);if(o(t)){for(var i=t;i<t+f;i++)e[i].classList.add("selected");a.placeShip(t,f),l++,3==f&&0==d?d=!0:f--,f<2&&(e.forEach((function(o){o.replaceWith(o.cloneNode())})),r())}}))}));var r=function o(){new Promise((function(o,r){i.turn(t,e,n,a)})).then((function(){c.turn(),o()}))}}()}()})();